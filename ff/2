Using binary at 'C:\Program Files (x86)\Mozilla Firefox\firefox.exe'.
Using profile at 'c:\users\abushn~1\appdata\local\temp\tmpcyoxw5.mozrunner'.
error: ydn-db: An exception occurred.
TypeError: I.open is not a function
resource://jid1-odgbe3tzecibxq-at-jetpack/ydn-db/lib/main.js 106
Traceback (most recent call last):
  File "resource://gre/modules/NetUtil.jsm", line 137, in 
    aCallback(pipe.inputStream, aStatusCode, aRequest);
  File "resource://gre/modules/commonjs/sdk/net/url.js", line 49, in readAsync/<
    resolve(data);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 187, in resolve
    result.then(observer.resolve, observer.reject);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 45, in then
    return { then: function then(fulfill) { fulfill(value); } };
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 120, in resolve
    deferred.resolve(onFulfill ? onFulfill(value) : value);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 187, in resolve
    result.then(observer.resolve, observer.reject);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 45, in then
    return { then: function then(fulfill) { fulfill(value); } };
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 120, in resolve
    deferred.resolve(onFulfill ? onFulfill(value) : value);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 187, in resolve
    result.then(observer.resolve, observer.reject);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 45, in then
    return { then: function then(fulfill) { fulfill(value); } };
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 120, in resolve
    deferred.resolve(onFulfill ? onFulfill(value) : value);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 187, in resolve
    result.then(observer.resolve, observer.reject);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 45, in then
    return { then: function then(fulfill) { fulfill(value); } };
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 120, in resolve
    deferred.resolve(onFulfill ? onFulfill(value) : value);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 187, in resolve
    result.then(observer.resolve, observer.reject);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 45, in then
    return { then: function then(fulfill) { fulfill(value); } };
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 120, in resolve
    deferred.resolve(onFulfill ? onFulfill(value) : value);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 187, in resolve
    result.then(observer.resolve, observer.reject);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 155, in then
    result.then(resolve, reject);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 45, in then
    return { then: function then(fulfill) { fulfill(value); } };
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 120, in resolve
    deferred.resolve(onFulfill ? onFulfill(value) : value);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 120, in resolve
    deferred.resolve(onFulfill ? onFulfill(value) : value);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 187, in resolve
    result.then(observer.resolve, observer.reject);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 45, in then
    return { then: function then(fulfill) { fulfill(value); } };
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 120, in resolve
    deferred.resolve(onFulfill ? onFulfill(value) : value);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 187, in resolve
    result.then(observer.resolve, observer.reject);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 155, in then
    result.then(resolve, reject);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 45, in then
    return { then: function then(fulfill) { fulfill(value); } };
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 120, in resolve
    deferred.resolve(onFulfill ? onFulfill(value) : value);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 120, in resolve
    deferred.resolve(onFulfill ? onFulfill(value) : value);
  File "resource://gre/modules/commonjs/sdk/addon/runner.js", line 115, in startup/<
    run(options);
  File "resource://gre/modules/commonjs/sdk/addon/runner.js", line 147, in run
    let program = main(options.loader, options.main);
  File "resource://jid1-odgbe3tzecibxq-at-jetpack/ydn-db/lib/main.js", line 337, in 
    var db = new ydn.db.Storage('tc');
  File "resource://jid1-odgbe3tzecibxq-at-jetpack/ydn-db/lib/main.js", line 256, in Xg
    0;e<a.length;e++)e!=f&&null!=a[e]&&1===K(g,a[e][a[e].length-1])&&(d[e]=c(a[e],g));return{"continue":d}};ma("ydn.db.algo.NestedLoop",Ug);ma("ydn.db.algo.ZigzagMerge",Wg);ma("ydn.db.algo.SortedMerge",Vg);function Xg(a,b,c){Z.call(this,a,b,c)}E(Xg,Tg);function $(a,b,c,d){this.b=a;this.c=b;this.type=d||0;this.a=c}s=$.prototype;s.Ic=function(){return new $(this.b,this.c,yf(this.a),this.type)};s.Kc=function(){return new $(this.b,this.c,this.a.ic(),this.type)};s.unique=function(a){if(!ca(a))throw null;if(!this.a.c)throw null;return new $(this.b,this.c,this.a.unique(a),this.type)};
  File "resource://jid1-odgbe3tzecibxq-at-jetpack/ydn-db/lib/main.js", line 231, in Z
    s.Ac=function(a,b,c){if(3<arguments.length)throw null;this.ya++;var d=b||Ld(this.a),e=G;if(c)if("readwrite"==c)e=H;else if("readonly"!=c)throw null;var f=yg(this,"all",!1,d,e,1),g=this.xa(f,this.h),h=new Mc("q");f.na(function(b){Nc(h,b,f.fa()+"R0");a(g)},d,e,function(a){h.a=null;M(h,f.wb(),"complete"!==a)});return h};s.Sc=function(){return this.b?this.b.e():NaN};xg.prototype.branch=xg.prototype.qc;xg.prototype.run=xg.prototype.Ac;xg.prototype.getTxNo=xg.prototype.Sc;ig.prototype.getTxNo=ig.prototype.e;function Z(a,b,c){xg.call(this,a,b,c);a=this.a;for(b=0;b<a.a.length;b++){c=a.a[b];var d=R(a,c.getName());if(d){if(!od(d,"k"))throw null;if(!od(d,"v"))throw null;if("id"!=d.a)throw null;}else throw null;for(d=0;d<c.count();d++){var e=c.index(d);if(e=R(a,e.g()))this.Vb(e,c);else throw null;}}}E(Z,xg);s=Z.prototype;s.xa=function(a,b){return new X(this,this.a,a,b)};
  File "resource://jid1-odgbe3tzecibxq-at-jetpack/ydn-db/lib/main.js", line 229, in xg
    wg.prototype.ea=function(a,b,c,d,e){var f,g,h=new F;h.S(function(a){g=!1;f=a},function(a){g=!0;f=a});wg.B.ea.call(this,h,b,c,d,function(b,c){if("complete"!=b)a.r(c);else if(!0===g)a.r(f);else if(!1===g)a.s(f);else{var d=new ie;a.r(d)}e&&(e(b,c),e=void 0)})};function xg(a,b,c){T.call(this,a,b,c);this.ya=0;a=!0;b="single";c&&(w(c.isSerial)&&(a=!!c.isSerial),c.policy&&(b=c.policy));c=yg(this,b,a);this.h=yg(this,"atomic",!1);this.b=this.xa(c,this.h)}E(xg,T);s=xg.prototype;s.ya=0;s.qc=function(a,b,c,d,e){var f;"readonly"==d?f=G:"readwrite"==d&&(f=H);a=yg(this,a,b,c,f,e);return this.xa(a,this.h)};s.xa=function(a,b){return new ig(this,this.a,a,b)};
  File "resource://jid1-odgbe3tzecibxq-at-jetpack/ydn-db/lib/main.js", line 127, in T
    function T(a,b,c){mc.call(this);c=c||{};this.p=c.mechanisms||kf;this.K=c.size;this.C=w(c.connectionTimeout)?c.connectionTimeout:18E5;this.hc=w(c.hc)?c.hc:!1;this.c=null;this.f=[];this.hb=!1;var d;if(b instanceof Kd)d=b;else if(D(b)){d=c.autoSchema||!w(b.stores)?new Pd(b):new Kd(b);var e=b.stores?b.stores.length:0;for(c=0;c<e;c++)R(d,b.stores[c].name)}else d=new Pd;this.a=d;w(a)&&this.j(a)}E(T,mc);
  File "resource://jid1-odgbe3tzecibxq-at-jetpack/ydn-db/lib/main.js", line 128, in T.prototype.j
    T.prototype.ha=function(a){if(w(a)){var b=function(b){a(b.toJSON())};if(this.c)this.c.P(b);else{var c=this;this.Ca(function(a){c.c.P(b,a)},null,G)}}return this.a?this.a.toJSON():null};function lf(a,b){var c=b instanceof gd?b:hd(b),d=R(a.a,b.name);if(0==ud(c,d).length)Qa(!1);else if(a.a instanceof Pd)Qd(a.a,c),a.c?(a.c.rb(),a.c=null,mf(a)):Qa(!1);else throw new af("");}T.prototype.j=function(a){if(this.c)throw null;this.d=a;mf(this)};T.prototype.getName=l("d");var kf="indexeddb websql localstorage sessionstorage userdata memory".split(" ");
  File "resource://jid1-odgbe3tzecibxq-at-jetpack/ydn-db/lib/main.js", line 131, in mf
    nf(a,g);break}else if("sessionstorage"==g&&window.sessionStorage){d=nf(a,g);break}else if("memory"==g){d=nf(a,g);break}else if("userdata"==g){d=nf(a,g);break}}null===d?b(!1,new pc("ready",a,NaN,NaN,null)):d.Aa(a.d,a.a).S(function(a){this.c=d;b(!0,new pc("ready",this,parseFloat(d.Nb()),parseFloat(a),null))},function(a){b(!1,a)},a)}s=T.prototype;s.ra=function(){if(this.c)return this.c.Ba()};function of(a,b){Zd(function(){this.dispatchEvent(b)},1,a)}s.Oc=function(){this.c&&(this.c.rb(),this.c=null)};
  File "resource://jid1-odgbe3tzecibxq-at-jetpack/ydn-db/lib/main.js", line 106, in s.Aa
    var e=this,f=new F,g=void 0,h=b.version,k;k=w(h)?I.open(a,h):I.open(a);k.onsuccess=function(f){var k=f.target.result;w(g)||(g=k.version);if(b.ib)e.P(function(e){if(b instanceof Pd)for(var f=0;f<e.stores.length;f++)Md(b,e.stores[f].getName())||Qd(b,e.stores[f].ua());if(0<Nd(b,e).length)if(e=C(k.version)?k.version+1:1,"IDBOpenDBRequest"in t){k.close();var g=I.open(a,e);g.onupgradeneeded=function(a){c(a.target.result,g.transaction)};g.onsuccess=function(a){d(a.target.result)};g.onerror=function(){d(null)}}else{var h=
error: ydn-db: An exception occurred.
TypeError: I.open is not a function
resource://jid1-odgbe3tzecibxq-at-jetpack/ydn-db/lib/main.js 106
Traceback (most recent call last):
  File "resource://gre/modules/NetUtil.jsm", line 137, in 
    aCallback(pipe.inputStream, aStatusCode, aRequest);
  File "resource://gre/modules/commonjs/sdk/net/url.js", line 49, in readAsync/<
    resolve(data);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 187, in resolve
    result.then(observer.resolve, observer.reject);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 45, in then
    return { then: function then(fulfill) { fulfill(value); } };
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 120, in resolve
    deferred.resolve(onFulfill ? onFulfill(value) : value);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 187, in resolve
    result.then(observer.resolve, observer.reject);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 45, in then
    return { then: function then(fulfill) { fulfill(value); } };
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 120, in resolve
    deferred.resolve(onFulfill ? onFulfill(value) : value);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 187, in resolve
    result.then(observer.resolve, observer.reject);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 45, in then
    return { then: function then(fulfill) { fulfill(value); } };
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 120, in resolve
    deferred.resolve(onFulfill ? onFulfill(value) : value);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 187, in resolve
    result.then(observer.resolve, observer.reject);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 45, in then
    return { then: function then(fulfill) { fulfill(value); } };
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 120, in resolve
    deferred.resolve(onFulfill ? onFulfill(value) : value);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 187, in resolve
    result.then(observer.resolve, observer.reject);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 45, in then
    return { then: function then(fulfill) { fulfill(value); } };
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 120, in resolve
    deferred.resolve(onFulfill ? onFulfill(value) : value);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 187, in resolve
    result.then(observer.resolve, observer.reject);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 155, in then
    result.then(resolve, reject);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 45, in then
    return { then: function then(fulfill) { fulfill(value); } };
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 120, in resolve
    deferred.resolve(onFulfill ? onFulfill(value) : value);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 120, in resolve
    deferred.resolve(onFulfill ? onFulfill(value) : value);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 187, in resolve
    result.then(observer.resolve, observer.reject);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 45, in then
    return { then: function then(fulfill) { fulfill(value); } };
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 120, in resolve
    deferred.resolve(onFulfill ? onFulfill(value) : value);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 187, in resolve
    result.then(observer.resolve, observer.reject);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 155, in then
    result.then(resolve, reject);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 45, in then
    return { then: function then(fulfill) { fulfill(value); } };
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 120, in resolve
    deferred.resolve(onFulfill ? onFulfill(value) : value);
  File "resource://gre/modules/commonjs/sdk/core/promise.js", line 120, in resolve
    deferred.resolve(onFulfill ? onFulfill(value) : value);
  File "resource://gre/modules/commonjs/sdk/addon/runner.js", line 115, in startup/<
    run(options);
  File "resource://gre/modules/commonjs/sdk/addon/runner.js", line 147, in run
    let program = main(options.loader, options.main);
  File "resource://jid1-odgbe3tzecibxq-at-jetpack/ydn-db/lib/main.js", line 337, in 
    var db = new ydn.db.Storage('tc');
  File "resource://jid1-odgbe3tzecibxq-at-jetpack/ydn-db/lib/main.js", line 256, in Xg
    0;e<a.length;e++)e!=f&&null!=a[e]&&1===K(g,a[e][a[e].length-1])&&(d[e]=c(a[e],g));return{"continue":d}};ma("ydn.db.algo.NestedLoop",Ug);ma("ydn.db.algo.ZigzagMerge",Wg);ma("ydn.db.algo.SortedMerge",Vg);function Xg(a,b,c){Z.call(this,a,b,c)}E(Xg,Tg);function $(a,b,c,d){this.b=a;this.c=b;this.type=d||0;this.a=c}s=$.prototype;s.Ic=function(){return new $(this.b,this.c,yf(this.a),this.type)};s.Kc=function(){return new $(this.b,this.c,this.a.ic(),this.type)};s.unique=function(a){if(!ca(a))throw null;if(!this.a.c)throw null;return new $(this.b,this.c,this.a.unique(a),this.type)};
  File "resource://jid1-odgbe3tzecibxq-at-jetpack/ydn-db/lib/main.js", line 231, in Z
    s.Ac=function(a,b,c){if(3<arguments.length)throw null;this.ya++;var d=b||Ld(this.a),e=G;if(c)if("readwrite"==c)e=H;else if("readonly"!=c)throw null;var f=yg(this,"all",!1,d,e,1),g=this.xa(f,this.h),h=new Mc("q");f.na(function(b){Nc(h,b,f.fa()+"R0");a(g)},d,e,function(a){h.a=null;M(h,f.wb(),"complete"!==a)});return h};s.Sc=function(){return this.b?this.b.e():NaN};xg.prototype.branch=xg.prototype.qc;xg.prototype.run=xg.prototype.Ac;xg.prototype.getTxNo=xg.prototype.Sc;ig.prototype.getTxNo=ig.prototype.e;function Z(a,b,c){xg.call(this,a,b,c);a=this.a;for(b=0;b<a.a.length;b++){c=a.a[b];var d=R(a,c.getName());if(d){if(!od(d,"k"))throw null;if(!od(d,"v"))throw null;if("id"!=d.a)throw null;}else throw null;for(d=0;d<c.count();d++){var e=c.index(d);if(e=R(a,e.g()))this.Vb(e,c);else throw null;}}}E(Z,xg);s=Z.prototype;s.xa=function(a,b){return new X(this,this.a,a,b)};
  File "resource://jid1-odgbe3tzecibxq-at-jetpack/ydn-db/lib/main.js", line 229, in xg
    wg.prototype.ea=function(a,b,c,d,e){var f,g,h=new F;h.S(function(a){g=!1;f=a},function(a){g=!0;f=a});wg.B.ea.call(this,h,b,c,d,function(b,c){if("complete"!=b)a.r(c);else if(!0===g)a.r(f);else if(!1===g)a.s(f);else{var d=new ie;a.r(d)}e&&(e(b,c),e=void 0)})};function xg(a,b,c){T.call(this,a,b,c);this.ya=0;a=!0;b="single";c&&(w(c.isSerial)&&(a=!!c.isSerial),c.policy&&(b=c.policy));c=yg(this,b,a);this.h=yg(this,"atomic",!1);this.b=this.xa(c,this.h)}E(xg,T);s=xg.prototype;s.ya=0;s.qc=function(a,b,c,d,e){var f;"readonly"==d?f=G:"readwrite"==d&&(f=H);a=yg(this,a,b,c,f,e);return this.xa(a,this.h)};s.xa=function(a,b){return new ig(this,this.a,a,b)};
  File "resource://jid1-odgbe3tzecibxq-at-jetpack/ydn-db/lib/main.js", line 127, in T
    function T(a,b,c){mc.call(this);c=c||{};this.p=c.mechanisms||kf;this.K=c.size;this.C=w(c.connectionTimeout)?c.connectionTimeout:18E5;this.hc=w(c.hc)?c.hc:!1;this.c=null;this.f=[];this.hb=!1;var d;if(b instanceof Kd)d=b;else if(D(b)){d=c.autoSchema||!w(b.stores)?new Pd(b):new Kd(b);var e=b.stores?b.stores.length:0;for(c=0;c<e;c++)R(d,b.stores[c].name)}else d=new Pd;this.a=d;w(a)&&this.j(a)}E(T,mc);
  File "resource://jid1-odgbe3tzecibxq-at-jetpack/ydn-db/lib/main.js", line 128, in T.prototype.j
    T.prototype.ha=function(a){if(w(a)){var b=function(b){a(b.toJSON())};if(this.c)this.c.P(b);else{var c=this;this.Ca(function(a){c.c.P(b,a)},null,G)}}return this.a?this.a.toJSON():null};function lf(a,b){var c=b instanceof gd?b:hd(b),d=R(a.a,b.name);if(0==ud(c,d).length)Qa(!1);else if(a.a instanceof Pd)Qd(a.a,c),a.c?(a.c.rb(),a.c=null,mf(a)):Qa(!1);else throw new af("");}T.prototype.j=function(a){if(this.c)throw null;this.d=a;mf(this)};T.prototype.getName=l("d");var kf="indexeddb websql localstorage sessionstorage userdata memory".split(" ");
  File "resource://jid1-odgbe3tzecibxq-at-jetpack/ydn-db/lib/main.js", line 131, in mf
    nf(a,g);break}else if("sessionstorage"==g&&window.sessionStorage){d=nf(a,g);break}else if("memory"==g){d=nf(a,g);break}else if("userdata"==g){d=nf(a,g);break}}null===d?b(!1,new pc("ready",a,NaN,NaN,null)):d.Aa(a.d,a.a).S(function(a){this.c=d;b(!0,new pc("ready",this,parseFloat(d.Nb()),parseFloat(a),null))},function(a){b(!1,a)},a)}s=T.prototype;s.ra=function(){if(this.c)return this.c.Ba()};function of(a,b){Zd(function(){this.dispatchEvent(b)},1,a)}s.Oc=function(){this.c&&(this.c.rb(),this.c=null)};
  File "resource://jid1-odgbe3tzecibxq-at-jetpack/ydn-db/lib/main.js", line 106, in s.Aa
    var e=this,f=new F,g=void 0,h=b.version,k;k=w(h)?I.open(a,h):I.open(a);k.onsuccess=function(f){var k=f.target.result;w(g)||(g=k.version);if(b.ib)e.P(function(e){if(b instanceof Pd)for(var f=0;f<e.stores.length;f++)Md(b,e.stores[f].getName())||Qd(b,e.stores[f].ua());if(0<Nd(b,e).length)if(e=C(k.version)?k.version+1:1,"IDBOpenDBRequest"in t){k.close();var g=I.open(a,e);g.onupgradeneeded=function(a){c(a.target.result,g.transaction)};g.onsuccess=function(a){d(a.target.result)};g.onerror=function(){d(null)}}else{var h=
Total time: 7.085000 seconds
Program terminated successfully.
